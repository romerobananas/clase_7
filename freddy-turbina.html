<!doctype html>
<html>
   <head>
      <meta charset="utf-8">
      <meta name="viewport" content="w=device-w, initial-scale=1, shrink-to-fit=no">
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
      <title>D3.js</title>
      <link rel="stylesheet" href="style.css">
   </head>
   <body>
      <div class="container">
         <div class="row">
            <div class="col-12">
               <h3>Alumnos migrantes en Santiago</h3>
               <h5>La Tercera. Autor: Camila Mardones, 25/03/2017</h5>
               <p>Este es uno de los efectos de la creciente llegada de migrantes al país, que está reflejándose en la matrícula de los colegios municipales. De hecho, en la comuna de Santiago en los últimos cuatro años la cantidad de estudiantes extranjeros ha aumentado en un 72% y actualmente representan a un 16% del total de los alumnos.</p>
               <div id="here" class="my-4"></div>
            </div>
            <div class="col-12">
               <nav aria-label="navegador">
                  <ul class="pagination">
                     <li class="page-item"><a class="page-link" href="index.html">1</a></li>
                     <li class="page-item"><a class="page-link" href="funcion.html">2</a></li>
                     <li class="page-item"><a class="page-link" href="arreglo.html">3</a></li>
                     <li class="page-item"><a class="page-link" href="objeto.html">4</a></li>
                     <li class="page-item"><a class="page-link" href="fetch-json.html">5</a></li>
                     <li class="page-item"><a class="page-link" href="fetch-csv.html">6</a></li>
                     <li class="page-item active"><a class="page-link" href="freddy-turbina.html">7</a></li>
                  </ul>
               </nav>
            </div>
         </div>
      </div>
<script src="https://d3js.org/d3.v5.min.js"></script>
<script>

   var w = 1000, h = 450, radius = 250;

   var calculo = [
      {name: 'Perú', count: 2219, color: '#0F2360'},
      {name: 'Colombia', count: 965, color: '#17366F'},
      {name: 'Venezuela', count: 329, color: '#20497E'},
      {name: 'Ecuador', count: 207, color: '#295D8D'},
      {name: 'Bolivia', count: 153, color: '#31709D'},
      {name: 'Haití', count: 140, color: '#3A84AC'},
      {name: 'Rep.D.', count: 134, color: '#3A84AC'},
      {name: 'Arg', count: 78, color: '#3A84AC'},
    ];

    var arc = d3.arc().outerRadius(radius - 50).innerRadius(100);

    var pie = d3.pie().sort(null).value(function(d) { return d.count; });

    var svg = d3.select('#here').append("svg")
      .attr("width", w)
      .attr("height", h)
      .style("background","#EEEEEE")
      .append("g")
      .attr("transform", "translate(" + w/2 + "," + h/2 + ")");

    var g = svg.selectAll(".arc")
      .data(pie(calculo))
      .enter().append("g");

    g.append("path")
      .attr("d", arc)
      .style("fill", function(d,i) { return d.data.color; });

    g.append("text")
      .attr("transform", function(d) { return "translate(" + arc.centroid(d) + ")"; })
      .style("text-anchor", "middle")
      .text(function(d) { return d.data.name; })
      .attr("fill","white")
      .style("font-size","10px")

</script>
      <!-- jQuery primero, luego Popper.js, y finalmente Bootstrap JS -->
      <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
   </body>
</html>
